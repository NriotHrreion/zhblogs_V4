---
import { NavigationMenu, type NavigationMenuProps } from "@web/components/NavigationMenu";
import Themes from "astro-themes";
import { Footer } from "@web/components/Footer";

const leftNav: NavigationMenuProps = [
  {
    name: "博客列表",
    href: "/list"
  },
  {
    name: "数据统计",
    href: "/charts"
  },
  {
    name: "项目文档",
    href: "/docs"
  },
  {
    name: "项目博客",
    href: "/blog"
  },
];

const rightNav: NavigationMenuProps = [
  {
    name: "提交博客",
    icon: "plus",
    href: "/new"
  },
  {
    name: "反馈",
    subList: [
      {
        name: "博客问题反馈",
        icon: "message-square-warning",
        href: "https://github.com/zh-blogs/blog-daohang/issues/new?template=03-Blog+Information+Report.yml",
        newPage: true
      },
      {
        name: "修改博客信息",
        icon: "pencil-line",
        href: "https://github.com/zh-blogs/blog-daohang/issues/new?template=04-Modify+%26+Improve+Blog+Information+Report.yml",
        newPage: true
      },
      {
        name: "精选博客推荐",
        icon: "badge-check",
        href: "https://github.com/zh-blogs/blog-daohang/issues/new?template=05-Selected+Blog+Application.yml",
        newPage: true
      }
    ]
  },
  {
    name: "关于",
    icon: "info",
    href: "/about"
  },
];
---

<html lang="zh-cn">
	<head>
		<meta charset="utf-8"/>
		<link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
		<meta name="viewport" content="width=device-width"/>
		<meta name="generator" content={Astro.generator}/>
		<title>Astro</title>
    <Themes defaultTheme="light"/>
	</head>
	<body>
    <main class="w-full page-padding flex flex-col items-center gap-5 overflow-x-hidden">
      <NavigationMenu leftSplit={leftNav} rightSplit={rightNav} client:only="react"/>
      <slot class="w-full h-full"/>
      <Footer client:only="react"/>
    </main>
    <script>
      // Apply theme class name
      document.documentElement.className = (
        document.documentElement.attributes.getNamedItem("data-theme")?.value ?? "light"
      );
      document.addEventListener("set-theme", (e) => {
        document.documentElement.className = e.detail ?? "light";
      });
    </script>
	</body>
</html>
